(this["webpackJsonpreact-board"]=this["webpackJsonpreact-board"]||[]).push([[0],{20:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(21),a=c.n(i),s=(c(28),c(2)),r=c(9),l=c(5),j=c(3),d=c(23),u="GET_LOCAL_STORAGE",b="ADD_ITEM",o="UPDATE_ITEM",O="DELETE_ITEM",h="INCREASE_VIEWS",m="CHANGE_MENU",f=function(e,t){switch(t.type){case u:var c=localStorage.getItem("list"),n=c?JSON.parse(c):[],i=localStorage.getItem("id"),a=i?parseInt(i):0;return Object(s.a)(Object(s.a)({},e),{},{list:n,id:a});case b:var r=[].concat(Object(d.a)(e.list),[t.item]),l=e.id+1;return Object(s.a)(Object(s.a)({},e),{},{list:r,id:l});case o:var j=e.list.map((function(e){return e.id===t.item.id?t.item:e}));return Object(s.a)(Object(s.a)({},e),{},{list:j});case O:var f=e.list.filter((function(e){return e.id!==t.id}));return Object(s.a)(Object(s.a)({},e),{},{list:f});case h:var x=e.list.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{views:e.views+1}):e}));return Object(s.a)(Object(s.a)({},e),{},{list:x});case m:return Object(s.a)(Object(s.a)({},e),{},{menu:t.menu});default:return Object(s.a)({},e)}},x=(c(29),c(0)),p=Object(n.memo)((function(e){var t=e.item,c=e.dispatch,i=t.id,a=t.title,s=t.date,r=t.views,j=Object(n.useCallback)((function(e){return function(){c({type:h,id:e})}}),[c]);return Object(x.jsxs)("div",{className:"ListItem",children:[Object(x.jsx)("div",{className:"title",children:Object(x.jsx)(l.b,{onClick:j(i),to:"/detail/".concat(i),children:a})}),Object(x.jsx)("div",{className:"date",children:s}),Object(x.jsx)("div",{className:"views",children:r})]})})),v=(c(36),Object(n.memo)((function(e){var t=e.list,c=e.dispatch;return Object(n.useEffect)((function(){c({type:m,menu:"List"})}),[c]),Object(x.jsxs)("div",{className:"List",children:[Object(x.jsx)("div",{className:"header",children:"title"}),Object(x.jsx)("div",{className:"header",children:"date"}),Object(x.jsx)("div",{className:"header",children:"views"}),Object(x.jsx)("div",{className:"items",children:t.sort((function(e,t){return t.id-e.id})).map((function(e){return Object(x.jsx)(p,{item:e,dispatch:c},e.id)}))})]})}))),N=c(13);function g(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(N.a)({},t.name,t.value))}function E(e){var t=Object(n.useReducer)(g,e),c=Object(r.a)(t,2),i=c[0],a=c[1];return[i,function(e){a(e.target)}]}c(20);var w=Object(n.memo)((function(e){var t=e.id,c=e.dispatch,i=e.history,a={},s=E({title:"",content:""}),j=Object(r.a)(s,2),d=j[0],u=j[1],o=d.title,O=d.content,h=Object(n.useRef)(null),f=Object(n.useRef)(null);Object(n.useEffect)((function(){c({type:m,menu:"Write"}),h.current.focus()}),[c]);return Object(x.jsxs)("div",{className:"form",children:[Object(x.jsx)("div",{className:"input-box",children:Object(x.jsx)("input",{ref:h,placeholder:"title",name:"title",value:o,onChange:u})}),Object(x.jsx)("textarea",{className:"textarea",ref:f,placeholder:"content",name:"content",value:O,onChange:u}),Object(x.jsxs)("div",{className:"btn-box",children:[Object(x.jsx)("span",{onClick:function(){o?O?(a.id=t,a.title=o,a.content=O,a.date=function(e){var t=e.getFullYear(),c=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDay()).padStart(2,"0");return"".concat(t,"-").concat(c,"-").concat(n)}(new Date),a.views=0,c({type:b,item:a}),i.push("/detail/".concat(a.id))):(alert("Please enter the content."),f.current.focus()):(alert("Please enter a title."),h.current.focus())},children:"submit"}),Object(x.jsx)(l.b,{to:"/",children:"cancel"})]})]})})),y=function(e){var t=localStorage.getItem("list");return(t?JSON.parse(t):[]).find((function(t){return String(t.id)===e}))},S=(c(37),function(){return Object(x.jsxs)("div",{className:"Error",children:[Object(x.jsx)("h1",{children:"not found"}),Object(x.jsx)("div",{children:Object(x.jsx)(l.b,{to:"/",children:"list"})})]})}),C=Object(n.memo)((function(e){var t=e.dispatch,c=e.match,i=e.history,a=y(c.params.id),s=E({title:a?a.title:"",content:a?a.content:""}),j=Object(r.a)(s,2),d=j[0],u=j[1],b=d.title,O=d.content,h=Object(n.useRef)(null),f=Object(n.useRef)(null);Object(n.useEffect)((function(){t({type:m,menu:"Update"}),h.current&&h.current.focus()}),[t]);return Object(x.jsx)(x.Fragment,{children:a?Object(x.jsxs)("div",{className:"form",children:[Object(x.jsx)("div",{className:"input-box",children:Object(x.jsx)("input",{ref:h,placeholder:"title",name:"title",value:b,onChange:u})}),Object(x.jsx)("textarea",{className:"textarea",ref:f,placeholder:"content",name:"content",value:O,onChange:u}),Object(x.jsxs)("div",{className:"btn-box",children:[Object(x.jsx)("span",{onClick:function(){b?O?(a.title=b,a.content=O,t({type:o,item:a}),i.push("/detail/".concat(a.id))):(alert("Please enter the content."),f.current.focus()):(alert("Please enter a title."),h.current.focus())},children:"submit"}),Object(x.jsx)(l.b,{to:"/",children:"cancel"})]})]}):Object(x.jsx)(S,{})})})),I=(c(38),Object(n.memo)((function(e){var t=e.dispatch,c=e.match,i=e.history,a=y(c.params.id);Object(n.useEffect)((function(){t({type:m,menu:"Detail"})}),[t]);var s=Object(n.useCallback)((function(){a&&(t({type:O,id:a.id}),i.push("/"))}),[t,i,a]);return Object(x.jsx)(x.Fragment,{children:a?Object(x.jsxs)("div",{className:"Detail",children:[Object(x.jsxs)("div",{className:"date",children:["\ud83d\uddd3 ",a.date]}),Object(x.jsxs)("div",{className:"views",children:["\ud83d\udc41 ",a.views]}),Object(x.jsx)("div",{className:"title",children:Object(x.jsx)("h2",{children:a.title})}),Object(x.jsx)("div",{className:"content",children:a.content}),Object(x.jsxs)("div",{className:"btn-box",children:[Object(x.jsx)(l.b,{to:"/update/".concat(a.id),children:"\ud83d\udd8b"}),Object(x.jsx)(l.b,{to:"/",children:"list"}),Object(x.jsx)("span",{onClick:s,children:"X"})]})]}):Object(x.jsx)(S,{})})}))),R=(c(39),{list:[],id:0,menu:"List"}),k=function(){var e=Object(n.useReducer)(f,R),t=Object(r.a)(e,2),c=t[0],i=t[1],a=c.list,d=c.id,b=c.menu,o=Object(n.useRef)(!0);return Object(n.useEffect)((function(){o.current||(localStorage.setItem("list",JSON.stringify(a)),localStorage.setItem("id",d))}),[d,a]),Object(n.useEffect)((function(){i({type:u}),o.current=!1}),[]),Object(x.jsx)("div",{className:"Board",children:Object(x.jsxs)(l.a,{basename:"/react-board",children:[Object(x.jsx)("div",{className:"menu",children:Object(x.jsx)("h1",{children:b})}),Object(x.jsx)("div",{className:"btn-write",children:Object(x.jsx)(l.b,{to:"/write",children:"write"})}),Object(x.jsxs)("div",{className:"wrap",children:[Object(x.jsx)(j.a,{path:"/",exact:!0,render:function(){return Object(x.jsx)(v,{list:a,dispatch:i})}}),Object(x.jsx)(j.a,{path:"/write",render:function(e){return Object(x.jsx)(w,Object(s.a)({id:d,dispatch:i},e))}}),Object(x.jsx)(j.a,{path:"/update/:id",render:function(e){return Object(x.jsx)(C,Object(s.a)({dispatch:i},e))}}),Object(x.jsx)(j.a,{path:"/detail/:id",render:function(e){return Object(x.jsx)(I,Object(s.a)({dispatch:i},e))}})]})]})})};a.a.render(Object(x.jsx)(k,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.149320ad.chunk.js.map